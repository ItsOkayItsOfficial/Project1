<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="author" content="ItsOkayItsOfficial">
    <link rel="shortcut icon" href="assets/img/logo.png">

    <title>Project #1</title>

    <!-- Bootstrap CSS 3.3.7 -->
    <link rel="stylesheet" href="https://bootswatch.com/simplex/bootstrap.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

    <!-- Search -->
    <nav class="site-nav active">
        <img class="navbar-brand" src="assets/img/owl_logo_1.svg">
        <form class="navbar-form navbar-center">
            <div for="searchInput" class="form-group">
                <input id="searchInput" type="text" class="form-control" placeholder="Search..">
            </div>
            <button id="searchButton" type="submit" class="btn btn-default">Search</button>
            <div class='form-group' id= 'zipForm'>
                <input type="text" class="form-control" placeholder="Your Zip Code.." id='userZip'>
            </div>
            <button class="btn btn-default" type="submit" id='zipSearch'>Go!</button>

            <div class="btn-group" id='chosenZip'>
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  id='zipHolder'>
                <span class="caret"></span>
                </button>
            <ul class="dropdown-menu">
                <li><a id='changeZip'>Change Zip Code</a></li>
            </ul>
            </div>
        </form>
    </nav>
    <!-- /Search -->

    <!-- Main Container -->
    <div class="container">
        <!-- Content Container -->
        <div id="contentContainer">

            <!-- Search Tabs -->
            <ul id="myTab" class="nav nav-tabs">

            </ul>


            <!-- /Search Input Tabs  -->

            <!-- Search Content -->
            <div id="myTabContent" class="tab-content">

            </div>
            <!-- /Search Content -->

        </div>
        <!-- /Content Container -->
    </div>
    <!-- /Main Container -->

    <!--MeetUp Sidebar  -->
    <div class="sidebar-container">
        <nav class="sidebar sidebar-left">
            <h3 >Menu</h3>
            <a href="#">HTML/GIT</a>
            <a href="#">CSS/Bootstrap</a>
            <a href="#">Javascript</a>
            <a href="#">Jquery</a>
            <a href="#">AJAX</a>
            <a href="#">Firebase</a>
            <a href="#">Node</a>
            <a href="#">MySQL</a>
            <a href="#">Express</a>
            <a href="#">MongoDB</a>
            <a href="#">ReactJS</a>
            <a href="#">Java</a>
            <a href="#">Computer Science</a>
            <a href="#">Python</a>
            <a href="#">C#</a>
        </nav>
    </div>

<!--Zip Code Forms  -->

<!--Google Firebase -->
<script src="https://www.gstatic.com/firebasejs/4.3.1/firebase.js">

   //Local Storage Setting

   //Create local storage settings
   var zip = $("#zipSearch").val().trim();
   var searchBar = $("#searchButton").val().trim();

   //Storing into Local Storage 
      localStorage.setItem("zipSearch", zip);
      localStorage.setItem("searchBar", searchBar);
    

    //Initializing Firebase 
    var config = {
    apiKey: "AIzaSyBnSsBFbTm0WGtFl1jUuU8e9Lfbforo0B4",
    authDomain: "project1-314b4.firebaseapp.com",
    databaseURL: "https://project1-314b4.firebaseio.com",
    projectId: "project1-314b4",
    storageBucket: "project1-314b4.appspot.com",
    messagingSenderId: "59664894457"
  };

  firebase.initializeApp(config);
  
  var dataRef = firebase.database();

  //Iitializing Variables
  var search = "";
  var zipSearch = "";


  //Capturing Buttonclicks
  $("#zipSearch").on("click", function(event) {
  event.preventDefault(event);

  $('#searchButton').on('click', function(event) {
  event.preventDefault(event);

  //Logic for storage of storing and retrievig most recent user input
 search = $("#zipSearch").val().trim();
 name = $("#searchButton").val().trim();

 //Code for push
 data.ref().push({
        search: search;
        zipSearch: zipSearch;

    dateAdded: firebase.database.ServerValue.TIMESTAMP
 });


});  

dataRef.ref().on("child-added", function(childSnapshot) {

    //Log everything that's coming out of snapshot 
    console.log(childSnapshot.val().search);
    console.log(childSnapshot.val().zipSearch);
    
    });
  });
</script>



    <!-- Google ajax -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- Bootstrap Js -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Custom Js -->
    <script src="https://cdn.jsdelivr.net/momentjs/2.12.0/moment.min.js"></script>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script>
    <script src="assets/js/custom.js"></script>
   
    

</body>

</html>